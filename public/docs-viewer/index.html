<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,user-scalable=yes">
  <title>RapiDoc</title>
  <link href="./highlight.default.min.css" rel="stylesheet">
  <script src="./highlight.min.js"></script>
  <script defer="defer" src="./rapidoc-min.js"></script>
</head>

<script defer="defer">window.addEventListener('DOMContentLoaded', (event) => {
    const docEl = document.getElementById('thedoc');
    docEl.addEventListener('before-try', (e) => {
      e.detail.request.headers.append('AAA-BBB', 'CCC DDDD');
    });
  });
</script>

<body>
  <rapi-doc spec-url="./reference/ni-auth.json" id="thedoc" theme="dark" render-style="read" schema-style="tree"
    font-size="largest" show-method-in-nav-bar="true" use-path-in-nav-bar="true" show-components="true" show-info="true"
    show-header="true" allow-search="false" allow-advanced-search="true" allow-spec-url-load="false"
    allow-spec-file-download="true" allow-server-selection="true" allow-authentication="true" update-route="false"
    match-type="regex" persist-auth="true">

  </rapi-doc>

  <script defer="defer">document.addEventListener('DOMContentLoaded', (event) => {
      let docEl = document.getElementById("thedoc");

      // 2. before-try (Aborts all post calls)
      docEl.addEventListener('before-try', (e) => {
        if (e.detail.request.method === 'POST') {
          e.detail.controller.abort();
        }
      });

    })
  </script>
</body>

</html>